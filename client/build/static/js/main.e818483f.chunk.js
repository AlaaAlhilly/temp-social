(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{164:function(e,t,a){e.exports=a(332)},169:function(e,t,a){},170:function(e,t,a){},241:function(e,t){},260:function(e,t,a){},288:function(e,t){},331:function(e,t,a){},332:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(43),c=a.n(l),s=(a(169),a(5)),i=a(6),o=a(8),m=a(7),u=a(9),p=(a(170),a(15)),h=a(23),d=a(11),f=a(2),g=a.n(f),v=a(3),E=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"site-header"},r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-steel fixed-top"},r.a.createElement("div",{className:"container"},r.a.createElement(p.b,{className:"navbar-brand mr-4",to:"/"},"Snippers"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarToggle","aria-controls":"navbarToggle","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarToggle"},r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement(p.b,{className:"nav-item nav-link",to:"/"},"Home")),r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(p.b,{className:"nav-item nav-link",to:"/new-snippet"},"Create Snippet"),r.a.createElement(p.b,{className:"nav-item nav-link",to:"/profile"},"Profile"),r.a.createElement(p.b,{className:"nav-item nav-link",to:"/",onClick:this.props.logout},"Logout"))))))}}]),t}(n.Component),b=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"site-header"},r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-steel fixed-top"},r.a.createElement("div",{className:"container"},r.a.createElement(p.b,{className:"navbar-brand mr-4",to:"/"},"Snippers"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarToggle","aria-controls":"navbarToggle","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarToggle"},r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement(p.b,{className:"nav-item nav-link",to:"/"},"Home")),r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(p.b,{className:"nav-item nav-link",to:"/login"},"Login"),r.a.createElement(p.b,{className:"nav-item nav-link",to:"/register"},"Register"))))))}}]),t}(n.Component),N=a(70),k=a(71);function y(){var e=Object(N.a)(["\n  display: inline-block;\n  width: 2em;\n  user-select: none;\n  opacity: 0.3;\n"]);return y=function(){return e},e}function O(){var e=Object(N.a)(["\n  text-align: left;\n  margin: 1em 0;\n  padding: 0.5em;\n\n  & .token-line {\n    line-height: 1.3em;\n    height: 1.3em;\n  }\n"]);return O=function(){return e},e}function w(){var e=Object(N.a)(["\n  font-family: sans-serif;\n  text-align: center;\n"]);return w=function(){return e},e}k.a.div(w());var j=k.a.pre(O()),C=k.a.span(y()),x=a(99),S=a(157),A=a.n(S),T=(a(260),a(158)),_=a.n(T);function I(e){var t=[],a=[];return console.log(e.snippets),e.snippets.forEach(function(e){e.comments.forEach(function(e){a.push(r.a.createElement("li",{className:"media pull-left"},r.a.createElement("a",{href:"/",className:"pull-left",style:{marginRight:"15px"}},r.a.createElement("img",{src:e.auth_pic,alt:"",className:"img-circle"})),r.a.createElement("div",{className:"media-body"},r.a.createElement("strong",{className:"text-success pull-left"},e.author_name),r.a.createElement("span",{className:"text-muted pull-right",style:{float:"right"}},r.a.createElement("small",{className:"text-muted"},e.date)),r.a.createElement("p",null,e.body))))}),t.push(r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("article",{className:"media content-section"},r.a.createElement("div",{className:"media-body"},r.a.createElement("div",{className:"article-metadata"},r.a.createElement("img",{src:e.author.pic,alt:"alaa",className:"rounded-circle post_prof_img"}),r.a.createElement("a",{className:"mr-2",href:"/"},e.author.name),r.a.createElement("small",{className:"text-muted mr-2",style:{float:"right"}},r.a.createElement(_.a,{format:"D, MMM YYYY, hh:mm a",withTitle:!0},e.date))),r.a.createElement("h2",null,r.a.createElement("a",{className:"article-title",href:"/"},e.title)),r.a.createElement("p",{className:"desc"},e.desc),r.a.createElement(x.a,Object.assign({},x.b,{theme:A.a,code:e.content,language:"jsx"}),function(e){var t=e.className,a=e.style,n=e.tokens,l=e.getLineProps,c=e.getTokenProps;return r.a.createElement(j,{className:t,style:a},n.map(function(e,t){return r.a.createElement("div",l({line:e,key:t}),r.a.createElement(C,null,t+1),e.map(function(e,t){return r.a.createElement("span",c({token:e,key:t}))}))}))}),r.a.createElement("small",{className:"text-muted md-3"},"written with : ",e.lang),r.a.createElement("small",{className:"text-muted md-3",style:{float:"right"}},"This snippet helped ",e.likes," people"),r.a.createElement("hr",null),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{style:{marginRight:"5px"},type:"button",className:"btn btn-secondary"},"Like"),r.a.createElement("button",{style:{marginLeft:"5px"},type:"button",className:"btn btn-secondary sh-comm"},"Comment")),r.a.createElement("hr",null),r.a.createElement("div",{className:"row bootstrap snippets comm",style:{display:"none"}},r.a.createElement("div",{className:"col-md-12 col-md-offset-2 col-sm-12"},r.a.createElement("div",{className:"comment-wrapper"},r.a.createElement("div",{className:"panel panel-info"},r.a.createElement("div",{className:"panel-heading"},"Comments"),r.a.createElement("div",{className:"panel-body"},r.a.createElement("textarea",{className:"form-control",placeholder:"write a comment...",rows:"3"}),r.a.createElement("br",null),r.a.createElement("button",{type:"button",className:"btn btn-info pull-right"},"Post"),r.a.createElement("div",{className:"clearfix"}),r.a.createElement("hr",null),r.a.createElement("ul",{className:"media-list"},a)))))))))))}),r.a.createElement("div",{className:"container"},t)}var L=a(159),U=a.n(L),F=a(13),P=a.n(F),R={getSnippets:function(){return P.a.get("/api/snippets")},getSnippet:function(e){return P.a.get("/api/snippets/"+e)},deleteSnippet:function(e){return P.a.delete("/api/snippets/"+e)},saveSnippet:function(e){return P.a.post("/api/snippets",e)},getComments:function(){return P.a.get("/api/comments")},getcomment:function(e){return P.a.get("/api/comments/"+e)},deleteComment:function(e){return P.a.delete("/api/comments/"+e)},saveComment:function(e){return P.a.post("/api/comments",e)},getLikes:function(){return P.a.get("/api/likes")},getLike:function(e){return P.a.get("/api/likes/"+e)},deleteLike:function(e){return P.a.delete("/api/likes/"+e)},saveLike:function(e){return P.a.post("/api/likes",e)},getUsers:function(){return P.a.get("/api/user")},getUser:function(e){return P.a.get("/api/user/"+e)},deleteUser:function(e){return P.a.delete("/api/user/"+e)},saveuser:function(e){return P.a.post("/api/user",e)}},D=Object(d.withAuth)(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={authenticated:null,response:[],endpoint:"http://localhost:3001",userchecked:!1},a.checkAuthentication=Object(v.a)(g.a.mark(function e(){var t,n,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.auth.isAuthenticated();case 2:(t=e.sent)!==a.state.authenticated&&(a.state.userchecked||(n=JSON.parse(localStorage.getItem("okta-token-storage")),r={name:n.idToken.claims.name,email:n.idToken.claims.email,okta_id:n.idToken.clientId,snippets:[],likes:[]},R.saveuser(r).then(function(e){console.log(e),a.setState({userchecked:!0})})),a.setState({authenticated:t}));case 4:case"end":return e.stop()}},e)})),a.login=Object(v.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.auth.login("/");case 1:case"end":return e.stop()}},e)})),a.logout=Object(v.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.auth.logout("/");case 1:case"end":return e.stop()}},e)})),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark(function e(){var t,a,n=this;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.checkAuthentication(),console.log(JSON.parse(localStorage.getItem("okta-token-storage"))),(t=document.createElement("script")).type="text/javascript",t.async=!0,t.innerHTML='\n          $(document).on("click",".sh-comm",function(){\n            if($(".comm").css("display") === "none"){\n            $(".comm").show()\n            }else{\n              $(".comm").hide()\n            }\n          })\n\n            ',document.head.appendChild(t),a=this.state.endpoint,U()(a).on("FromAPI",function(e){return n.setState({response:e})});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(v.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.checkAuthentication();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(null===this.state.authenticated)return null;var e=this.state.authenticated?r.a.createElement("div",null,r.a.createElement(E,{logout:this.logout}),r.a.createElement(I,{snippets:this.state.response})):r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement("p",{className:"lead"},"If you are a staff member, please get your credentials from your supervisor"),r.a.createElement("button",{className:"btn btn-dark btn-lg",onClick:this.login},"Login"));return r.a.createElement("div",{className:"container"},e)}}]),t}(n.Component)),M=a(4);function H(e){return r.a.createElement("option",null,e.value)}var J=a(160),Y=a.n(J),B=Object(d.withAuth)(function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).checkAuthentication=Object(v.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.auth.isAuthenticated();case 2:(t=e.sent)!==a.state.authenticated&&a.setState({authenticated:t});case 4:case"end":return e.stop()}},e)})),a.login=Object(v.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.auth.login("/");case 1:case"end":return e.stop()}},e)})),a.logout=Object(v.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.auth.logout("/");case 1:case"end":return e.stop()}},e)})),a.getOps=function(){var e=[];return a.state.snippet.LANGUAGE_CHOICE.forEach(function(t){e.push(r.a.createElement(H,{value:t.name,key:Y()()}))}),e},a.handldInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.temp_snip[n]=r,"lang"===n&&(a.temp_snip.language=r),console.log(a.temp_snip),a.setState({snippet:a.temp_snip})},a.handleSubmit=function(e){e.preventDefault();var t=Object(M.a)(Object(M.a)(a)),n=JSON.parse(localStorage.getItem("okta-token-storage"));R.getUser(n.idToken.clientId).then(function(e){var n={title:a.state.snippet.title,desc:a.state.snippet.desc,content:a.state.snippet.content,lang:a.state.snippet.lang,likes:[],comments:[],author:e.data};R.saveSnippet(n).then(function(e){t.temp_snip={},console.log(e),window.location.replace("/")})})},a.state={authenticated:null,snippet:{LANGUAGE_CHOICE:[{name:"JAVASCRIPT"},{name:"CSS"},{name:"HTML"},{name:"C#"},{name:"C++"},{name:"BASH"},{name:"APACHE"},{name:"XML"},{name:"PHP"},{name:"JSON"},{name:"PERL"},{name:"SQL"},{name:"RUBY"},{name:"PYTHON"},{name:"OBJECTIVE-C"},{name:"DIFF"},{name:"JAVA"},{name:"COFFEESCRIPT"},{name:"MAKEFILE"},{name:"NGINX"}],title:"",desc:"",content:"",language:"",comments:[],likes:[],author:{}}},a.temp_snip={language:"JAVASCRIPT"},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.checkAuthentication();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(v.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.checkAuthentication();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(null===this.state.authenticated)return null;var e=this.state.authenticated?r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement(E,null),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Snippet Title"),r.a.createElement("input",{name:"title",onChange:this.handldInputChange,value:this.state.title,type:"text",className:"form-control",id:"title"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"language"},"Code Language"),r.a.createElement("select",{name:"lang",onChange:this.handldInputChange,value:this.state.language,className:"form-control",id:"language"},this.getOps())),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"desc"},"Snippet Description"),r.a.createElement("textarea",{name:"desc",onChange:this.handldInputChange,value:this.state.desc,className:"form-control",id:"desc",rows:"3"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"code"},"Snippet Code"),r.a.createElement("textarea",{name:"content",onChange:this.handldInputChange,value:this.state.content,className:"form-control",id:"code",rows:"8"})),r.a.createElement("button",{onClick:this.handleSubmit,type:"submit",className:"btn btn-primary btn-lg"},"Snipp it")))):r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement("p",{className:"lead"},"if your are a registered Snipper go ahead and login"),r.a.createElement("button",{className:"btn btn-dark btn-lg",onClick:this.login},"Login"));return r.a.createElement("div",{className:"container"},e)}}]),t}(n.Component)),G=a(161),$=a.n(G),V=Object(d.withAuth)(function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).fileSelectedHandler=function(e){a.setState({uploadedFile:e.target.files[0]});var t=Object(M.a)(Object(M.a)(a));setTimeout(function(){t.handleImageUpload(t.state.uploadedFile)},2e3)},a.checkAuthentication=Object(v.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.auth.isAuthenticated();case 2:(t=e.sent)!==a.state.authenticated&&a.setState({authenticated:t});case 4:case"end":return e.stop()}},e)})),a.login=Object(v.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.auth.login("/");case 1:case"end":return e.stop()}},e)})),a.logout=Object(v.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.auth.logout("/");case 1:case"end":return e.stop()}},e)})),a.state={authenticated:null,uploadedFile:null,uploadedFileCloudinaryUrl:"",defaultProfilePic:"https://res.cloudinary.com/dh7ooikgx/image/upload/v1553397211/favicon_rklfor.ico",first_name:"",last_name:"",phone:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleImageUpload",value:function(e){var t=this;$.a.post("https://api.cloudinary.com/v1_1/dh7ooikgx/upload").field("upload_preset","clixcvin").field("file",e).end(function(e,a){e&&console.error(e),""!==a.body.secure_url&&t.setState({uploadedFileCloudinaryUrl:a.body.secure_url})})}},{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.checkAuthentication(),console.log();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(v.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.checkAuthentication();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(null===this.state.authenticated)return null;var e=this.state.authenticated?r.a.createElement("div",{className:"container"},r.a.createElement(E,{logout:this.logout}),r.a.createElement("div",{className:" bootstrap snippet"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("h1",null,"Alaa Al Shammari")),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("a",{href:"/users",className:"pull-right"},r.a.createElement("img",{alt:"prof",className:"img-circle img-responsive",src:"http://www.gravatar.com/avatar/28fd20ccec6865e2d5f0e1f4446eb7bf?s=100"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("div",{className:"text-center"},r.a.createElement("label",{htmlFor:"upl"},r.a.createElement("div",{className:"ctn"},r.a.createElement("img",{alt:"prof",className:"rounded-circle article-img",src:this.state.uploadedFileCloudinaryUrl?this.state.uploadedFileCloudinaryUrl:this.state.defaultProfilePic}),r.a.createElement("div",{className:"overlay"},r.a.createElement("p",{className:"icon",title:"User Profile"},r.a.createElement("i",{className:"fa fa-user"}))))),r.a.createElement("input",{id:"upl",type:"file",onChange:this.fileSelectedHandler,style:{display:"none"}})),r.a.createElement("br",null),r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item text-muted"},"Activity ",r.a.createElement("i",{className:"fa fa-dashboard fa-1x"})),r.a.createElement("li",{className:"list-group-item text-left"},r.a.createElement("span",{className:"pull-left"},r.a.createElement("strong",null,"Likes"))," 13"),r.a.createElement("li",{className:"list-group-item text-left"},r.a.createElement("span",{className:"pull-left"},r.a.createElement("strong",null,"Posts"))," 37"))),r.a.createElement("form",{className:"form",action:"##",method:"post",id:"registrationForm"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"first_name"},r.a.createElement("h4",null,"First name")),r.a.createElement("input",{type:"text",className:"form-control",name:"first_name",id:"first_name",placeholder:"first name",title:"enter your first name if any."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"last_name"},r.a.createElement("h4",null,"Last name")),r.a.createElement("input",{type:"text",className:"form-control",name:"last_name",id:"last_name",placeholder:"last name",title:"enter your last name if any."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"phone"},r.a.createElement("h4",null,"Phone")),r.a.createElement("input",{type:"text",className:"form-control",name:"phone",id:"phone",placeholder:"enter phone",title:"enter your phone number if any."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-lg btn-success",type:"submit"},r.a.createElement("i",{className:"glyphicon glyphicon-ok-sign"})," Save"),r.a.createElement("button",{className:"btn btn-lg",type:"reset"},r.a.createElement("i",{className:"glyphicon glyphicon-repeat"})," Reset")))))):r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement("p",{className:"lead"},"If you are a staff member, please get your credentials from your supervisor"),r.a.createElement("button",{className:"btn btn-dark btn-lg",onClick:this.login},"Login"));return r.a.createElement("div",null,e)}}]),t}(n.Component)),W=a(162),X=a.n(W),q=(a(329),a(330),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=c.a.findDOMNode(this);this.widget=new X.a({baseUrl:this.props.baseUrl,features:{registration:!0},logo:"spot.png"}),this.widget.renderEl({el:e},this.props.onSuccess,this.props.onError)}},{key:"componentWillUnmount",value:function(){this.widget.remove()}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.Component)),z=Object(d.withAuth)(function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).onSuccess=function(e){return a.props.auth.redirect({sessionToken:e.session.token})},a.onError=function(e){console.log("error logging in",e)},a.state={authenticated:null},a.checkAuthentication(),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"checkAuthentication",value:function(){var e=Object(v.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.auth.isAuthenticated();case 2:(t=e.sent)!==this.state.authenticated&&this.setState({authenticated:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){this.checkAuthentication()}},{key:"render",value:function(){return null===this.state.authenticated?null:this.state.authenticated?r.a.createElement(h.Redirect,{to:{pathname:"/"}}):r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement(q,{baseUrl:this.props.baseUrl,onSuccess:this.onSuccess,onError:this.onError}))}}]),t}(n.Component)),K={url:"https://dev-814615.okta.com",issuer:"https://dev-814615.okta.com/oauth2/default",redirect_uri:window.location.origin+"/implicit/callback",client_id:"0oadj7zxn5fTBBwZx356"},Q=a(95),Z=a.n(Q),ee=(a(331),Object(d.withAuth)(function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={firstName:"",lastName:"",email:"",password:"",sessionToken:null},a.oktaAuth=new Z.a({url:K.url}),a.checkAuthentication=a.checkAuthentication.bind(Object(M.a)(Object(M.a)(a))),a.checkAuthentication(),a.handleSubmit=a.handleSubmit.bind(Object(M.a)(Object(M.a)(a))),a.handleFirstNameChange=a.handleFirstNameChange.bind(Object(M.a)(Object(M.a)(a))),a.handleLastNameChange=a.handleLastNameChange.bind(Object(M.a)(Object(M.a)(a))),a.handleEmailChange=a.handleEmailChange.bind(Object(M.a)(Object(M.a)(a))),a.handlePasswordChange=a.handlePasswordChange.bind(Object(M.a)(Object(M.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"checkAuthentication",value:function(){var e=Object(v.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.auth.getIdToken();case 2:(t=e.sent)&&this.setState({sessionToken:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){this.checkAuthentication()}},{key:"handleFirstNameChange",value:function(e){this.setState({firstName:e.target.value})}},{key:"handleLastNameChange",value:function(e){this.setState({lastName:e.target.value})}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),fetch("/api/users",{method:"POST",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE",Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"},body:JSON.stringify(this.state)}).then(function(e){t.oktaAuth.signIn({username:t.state.email,password:t.state.password}).then(function(e){return t.setState({sessionToken:e.sessionToken})})}).catch(function(e){return console.log})}},{key:"render",value:function(){return this.state.sessionToken?(this.props.auth.redirect({sessionToken:this.state.sessionToken}),null):r.a.createElement("div",{className:"container"},r.a.createElement(b,null),r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement("p",{className:"label-txt"},"ENTER YOUR EMAIL"),r.a.createElement("input",{className:"input",type:"email",id:"email",value:this.state.email,onChange:this.handleEmailChange}),r.a.createElement("div",{className:"line-box"},r.a.createElement("div",{className:"line"}))),r.a.createElement("label",null,r.a.createElement("p",{className:"label-txt"},"ENTER YOUR FIRST NAME"),r.a.createElement("input",{className:"input",type:"text",id:"firstName",value:this.state.firstName,onChange:this.handleFirstNameChange}),r.a.createElement("div",{className:"line-box"},r.a.createElement("div",{className:"line"}))),r.a.createElement("label",null,r.a.createElement("p",{className:"label-txt"},"ENTER YOUR LAST NAME"),r.a.createElement("input",{className:"input",type:"text",id:"lastName",value:this.state.lastName,onChange:this.handleLastNameChange}),r.a.createElement("div",{className:"line-box"},r.a.createElement("div",{className:"line"}))),r.a.createElement("label",null,r.a.createElement("p",{className:"label-txt"},"Password:"),r.a.createElement("input",{className:"input",type:"password",id:"password",value:this.state.password,onChange:this.handlePasswordChange}),r.a.createElement("div",{className:"line-box"},r.a.createElement("div",{className:"line"}))),r.a.createElement("button",{id:"submit",type:"submit"},"REGISTER")))}}]),t}(r.a.Component)));function te(e){e.history.push("/login")}var ae=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(d.Security,{issuer:K.issuer,client_id:K.client_id,redirect_uri:K.redirect_uri,onAuthRequired:te},r.a.createElement("div",{className:"root"},r.a.createElement(d.SecureRoute,{path:"/",exact:!0,component:D}),r.a.createElement(d.SecureRoute,{path:"/new-snippet",exact:!0,component:B}),r.a.createElement(d.SecureRoute,{path:"/profile",exact:!0,component:V}),r.a.createElement(d.SecureRoute,{path:"/snippets",exact:!0,component:D}),r.a.createElement(h.Route,{path:"/register",exact:!0,component:ee}),r.a.createElement(h.Route,{path:"/login",render:function(){return r.a.createElement(z,{baseUrl:K.url})}}),r.a.createElement(h.Route,{path:"/implicit/callback",component:d.ImplicitCallback}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[164,1,2]]]);
//# sourceMappingURL=main.e818483f.chunk.js.map